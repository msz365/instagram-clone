[{"D:\\python\\instagram-clone\\instagram-clone\\src\\reportWebVitals.js":"1","D:\\python\\instagram-clone\\instagram-clone\\src\\App.js":"2","D:\\python\\instagram-clone\\instagram-clone\\src\\Post.js":"3","D:\\python\\instagram-clone\\instagram-clone\\src\\firebase.js":"4","D:\\python\\instagram-clone\\instagram-clone\\src\\ImageUpload.js":"5"},{"size":362,"mtime":1610550082565,"results":"6","hashOfConfig":"7"},{"size":6017,"mtime":1610711506497,"results":"8","hashOfConfig":"7"},{"size":2269,"mtime":1610655915002,"results":"9","hashOfConfig":"7"},{"size":610,"mtime":1610560313026,"results":"10","hashOfConfig":"7"},{"size":2074,"mtime":1610648110356,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"5zdxr1",{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"18","messages":"19","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"20","messages":"21","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"22"},"D:\\python\\instagram-clone\\instagram-clone\\src\\reportWebVitals.js",[],"D:\\python\\instagram-clone\\instagram-clone\\src\\App.js",[],"D:\\python\\instagram-clone\\instagram-clone\\src\\Post.js",[],"D:\\python\\instagram-clone\\instagram-clone\\src\\firebase.js",["23"],"D:\\python\\instagram-clone\\instagram-clone\\src\\ImageUpload.js",["24","25"],"import { Button } from \"@material-ui/core\";\r\nimport React, { useState } from \"react\";\r\nimport \"./ImageUpload.css\";\r\nimport { storage, db } from \"./firebase\";\r\nimport firebase from \"firebase\";\r\n\r\nfunction ImageUpload({ username }) {\r\n  const [caption, setCaption] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(\"\");\r\n  const [progress, setProgress] = useState(0);\r\n\r\n  const handleChange = (e) => {\r\n    if (e.target.files[0]) {\r\n      setImage(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const handleUpload = () => {\r\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\r\n    uploadTask.on(\r\n      \"state_changed\",\r\n      (snapshot) => {\r\n        const progress = Math.round(\r\n          (snapshot.bytesTransferred / snapshot.totalBytes) * 100\r\n        );\r\n        setProgress(progress);\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        alert(error.message);\r\n      },\r\n      () => {\r\n        storage\r\n          .ref(\"images\")\r\n          .child(image.name)\r\n          .getDownloadURL()\r\n          .then((url) => {\r\n            db.collection(\"posts\").add({\r\n              timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n              caption: caption,\r\n              imageURL: url,\r\n              username: username,\r\n            });\r\n            console.log(\r\n              storage.ref(\"images\").child(image.name).getDownloadURL()\r\n            );\r\n            setProgress(0);\r\n            setCaption(\"\");\r\n            setImage(null);\r\n          });\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"imageUpload\">\r\n      <progress className=\"imageupload__progress\" value={progress} max=\"100\" />\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"Enter a caption..\"\r\n        value={caption}\r\n        onChange={(event) => setCaption(event.target.value)}\r\n      />\r\n      <input type=\"file\" onChange={handleChange} />\r\n      <Button className=\"imageupload__button\" onClick={handleUpload}>\r\n        Upload\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImageUpload;\r\n",{"ruleId":"26","severity":1,"message":"27","line":12,"column":9,"nodeType":"28","messageId":"29","endLine":12,"endColumn":20},{"ruleId":"26","severity":1,"message":"30","line":10,"column":10,"nodeType":"28","messageId":"29","endLine":10,"endColumn":13},{"ruleId":"26","severity":1,"message":"31","line":10,"column":15,"nodeType":"28","messageId":"29","endLine":10,"endColumn":21},"no-unused-vars","'firebaseApp' is assigned a value but never used.","Identifier","unusedVar","'url' is assigned a value but never used.","'setUrl' is assigned a value but never used."]